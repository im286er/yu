"use strict";!function($,e,t,o){function n(e,t){return e[t]===o?m[t]:e[t]}function a(e,t){var o=m["on"+e];o&&(C(o)?o.call(t[0]):t.addClass(o.addClass||"").removeClass(o.removeClass||"")),t.trigger("lazy"+e,[t]),s()}function i(e){a(e.type,$(this).off(A,i))}function r(t){if(E.length){t=t||m.forceLoad,b=1/0;var o,n,r=y.scrollTop(),l=e.innerHeight||y.height(),s=e.innerWidth||y.width();for(o=0,n=E.length;n>o;o++){var c,d=E[o],f=d[0],h=d[u],v=!1,p=t;if($.contains(g,f)){if(t||!h.visibleOnly||f.offsetWidth||f.offsetHeight){if(!p){var w=f.getBoundingClientRect(),z=h.edgeX,T=h.edgeY;c=w.top+r-T-l,p=r>=c&&w.bottom>-T&&w.left<=s+z&&w.right>-z}if(p){a("show",d);var I=h.srcAttr,B=C(I)?I(d):f.getAttribute(I);B&&(d.on(A,i),f.src=B),v=!0}else b>c&&(b=c)}}else v=!0;v&&(E.splice(o--,1),n--)}n||a("complete",$(g))}}function l(){T>1?(T=1,r(),setTimeout(l,m.throttle)):T=0}function s(t){E.length&&(t&&"scroll"===t.type&&t.currentTarget===e&&b>=y.scrollTop()||(T||setTimeout(l,0),T=2))}function c(){y.lazyLoadXT(),s()}function d(){r(!0)}var u="lazyLoadXT",f="lazied",A="load error",h="lazy-hidden",g=t.documentElement||t.body,v=e.onscroll===o||!!e.operamini||!g.getBoundingClientRect,m={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:v,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove",forceEvent:"",oninit:{removeClass:"lazy"},onshow:{addClass:h},onload:{removeClass:h,addClass:"lazy-loaded"},onerror:{removeClass:h},checkDuplicates:!0},p={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},y=$(e),C=$.isFunction,w=$.extend,z=$.data||function(e,t){return $(e).data(t)},E=[],b=0,T=0;$[u]=w(m,p,$[u]),$.fn[u]=function(t){t=t||{};var o,i=n(t,"blankImage"),r=n(t,"checkDuplicates"),l=n(t,"scrollContainer"),c={};$(l).on("scroll",s);for(o in p)c[o]=n(t,o);return this.each(function(){if(this===e)$(m.selector).lazyLoadXT(t);else{if(r&&z(this,f))return;var o=$(this).data(f,1);i&&"IMG"===o[0].tagName&&!this.src&&(this.src=i),o[u]=w({},c),a("init",o),E.push(o)}})},$(t).ready(function(){a("start",y),y.on(m.loadEvent,c).on(m.updateEvent,s).on(m.forceEvent,d),m.autoInit&&c()})}(window.jQuery||window.Zepto,window,document);