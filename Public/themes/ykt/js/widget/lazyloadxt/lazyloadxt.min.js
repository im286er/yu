"use strict";!function(e,t,o,n){function a(e,t){return e[t]===n?p[t]:e[t]}function i(e,t){var o=p["on"+e];o&&(w(o)?o.call(t[0]):t.addClass(o.addClass||"").removeClass(o.removeClass||"")),t.trigger("lazy"+e,[t]),c()}function r(t){i(t.type,e(this).off(h,r))}function l(o){if(b.length){o=o||p.forceLoad,T=1/0;var n,a,l=C.scrollTop(),s=t.innerHeight||C.height(),c=t.innerWidth||C.width();for(n=0,a=b.length;a>n;n++){var d,u=b[n],A=u[0],g=u[f],m=!1,y=o;if(e.contains(v,A)){if(o||!g.visibleOnly||A.offsetWidth||A.offsetHeight){if(!y){var z=A.getBoundingClientRect(),E=g.edgeX,I=g.edgeY;d=z.top+l-I-s,y=l>=d&&z.bottom>-I&&z.left<=c+E&&z.right>-E}if(y){i("show",u);var B=g.srcAttr,L=w(B)?B(u):A.getAttribute(B);L&&(u.on(h,r),A.src=L),m=!0}else T>d&&(T=d)}}else m=!0;m&&(b.splice(n--,1),a--)}a||i("complete",e(v))}}function s(){I>1?(I=1,l(),setTimeout(s,p.throttle)):I=0}function c(e){b.length&&(e&&"scroll"===e.type&&e.currentTarget===t&&T>=C.scrollTop()||(I||setTimeout(s,0),I=2))}function d(){C.lazyLoadXT(),c()}function u(){l(!0)}var f="lazyLoadXT",A="lazied",h="load error",g="lazy-hidden",v=o.documentElement||o.body,m=t.onscroll===n||!!t.operamini||!v.getBoundingClientRect,p={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:m,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove",forceEvent:"",oninit:{removeClass:"lazy"},onshow:{addClass:g},onload:{removeClass:g,addClass:"lazy-loaded"},onerror:{removeClass:g},checkDuplicates:!0},y={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},C=e(t),w=e.isFunction,z=e.extend,E=e.data||function(t,o){return e(t).data(o)},b=[],T=0,I=0;e[f]=z(p,y,e[f]),e.fn[f]=function(o){o=o||{};var n,r=a(o,"blankImage"),l=a(o,"checkDuplicates"),s=a(o,"scrollContainer"),d={};e(s).on("scroll",c);for(n in y)d[n]=a(o,n);return this.each(function(){if(this===t)e(p.selector).lazyLoadXT(o);else{if(l&&E(this,A))return;var n=e(this).data(A,1);r&&"IMG"===n[0].tagName&&!this.src&&(this.src=r),n[f]=z({},d),i("init",n),b.push(n)}})},e(o).ready(function(){i("start",C),C.on(p.loadEvent,d).on(p.updateEvent,c).on(p.forceEvent,u),p.autoInit&&d()})}(window.jQuery||window.Zepto,window,document);