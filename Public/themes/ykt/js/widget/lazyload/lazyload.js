"use strict";define(function(require,exports,module){!function($,e,t,i){var n=$(e);$.fn.lazyload=function(o){function r(){var e=0;a.each(function(){var t=$(this);if(!l.skip_invisible||t.is(":visible"))if($.abovethetop(this,l)||$.leftofbegin(this,l));else if($.belowthefold(this,l)||$.rightoffold(this,l)){if(++e>l.failure_limit)return!1}else t.trigger("appear"),e=0})}var f,a=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return o&&(i!==o.failurelimit&&(o.failure_limit=o.failurelimit,delete o.failurelimit),i!==o.effectspeed&&(o.effect_speed=o.effectspeed,delete o.effectspeed),$.extend(l,o)),f=l.container===i||l.container===e?n:$(l.container),0===l.event.indexOf("scroll")&&f.bind(l.event,function(){return r()}),this.each(function(){var e=this,t=$(e);e.loaded=!1,t.attr("src")!==i&&t.attr("src")!==!1||t.is("img")&&t.attr("src",l.placeholder),t.one("appear",function(){if(!this.loaded){if(l.appear){var i=a.length;l.appear.call(e,i,l)}$("<img />").bind("load",function(){var i=t.attr("data-"+l.data_attribute);t.hide(),t.is("img")?t.attr("src",i):t.css("background-image","url('"+i+"')"),t[l.effect](l.effect_speed),e.loaded=!0;var n=$.grep(a,function(e){return!e.loaded});if(a=$(n),l.load){var o=a.length;l.load.call(e,o,l)}}).attr("src",t.attr("data-"+l.data_attribute))}}),0!==l.event.indexOf("scroll")&&t.bind(l.event,function(){e.loaded||t.trigger("appear")})}),n.bind("resize",function(){r()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&n.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&a.each(function(){$(this).trigger("appear")})}),$(t).ready(function(){r()}),this},$.belowthefold=function(t,o){var r;return r=o.container===i||o.container===e?(e.innerHeight?e.innerHeight:n.height())+n.scrollTop():$(o.container).offset().top+$(o.container).height(),r<=$(t).offset().top-o.threshold},$.rightoffold=function(t,o){var r;return r=o.container===i||o.container===e?n.width()+n.scrollLeft():$(o.container).offset().left+$(o.container).width(),r<=$(t).offset().left-o.threshold},$.abovethetop=function(t,o){var r;return r=o.container===i||o.container===e?n.scrollTop():$(o.container).offset().top,r>=$(t).offset().top+o.threshold+$(t).height()},$.leftofbegin=function(t,o){var r;return r=o.container===i||o.container===e?n.scrollLeft():$(o.container).offset().left,r>=$(t).offset().left+o.threshold+$(t).width()},$.inviewport=function(e,t){return!($.rightoffold(e,t)||$.leftofbegin(e,t)||$.belowthefold(e,t)||$.abovethetop(e,t))},$.extend($.expr[":"],{"below-the-fold":function(e){return $.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!$.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return $.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!$.rightoffold(e,{threshold:0})},"in-viewport":function(e){return $.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!$.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return $.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!$.rightoffold(e,{threshold:0})}})}(jQuery,window,document)});