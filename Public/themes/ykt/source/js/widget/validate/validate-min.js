define(function(b,a,d){var e=b("jquery");(function(f){if(typeof define==="function"&&define.amd){define(["jquery"],f)}else{f(jQuery)}}(function(i){i.extend(i.fn,{validate:function(j){if(!this.length){if(j&&j.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var k=i.data(this[0],"validator");if(k){return k}this.attr("novalidate","novalidate");k=new i.validator(j,this[0]);i.data(this[0],"validator",k);if(k.settings.onsubmit){this.validateDelegate(":submit","click",function(l){if(k.settings.submitHandler){k.submitButton=l.target}if(i(l.target).hasClass("cancel")){k.cancelSubmit=true}if(i(l.target).attr("formnovalidate")!==undefined){k.cancelSubmit=true}});this.submit(function(l){if(k.settings.debug){l.preventDefault()}function m(){var o,n;if(k.settings.submitHandler){if(k.submitButton){o=i("<input type='hidden'/>").attr("name",k.submitButton.name).val(i(k.submitButton).val()).appendTo(k.currentForm)}n=k.settings.submitHandler.call(k,k.currentForm,l);if(k.submitButton){o.remove()}if(n!==undefined){return n}return false}return true}if(k.cancelSubmit){k.cancelSubmit=false;return m()}if(k.form()){if(k.pendingRequest){k.formSubmitted=true;return false}return m()}else{k.focusInvalid();return false}})}return k},valid:function(){var k,j;if(i(this[0]).is("form")){k=this.validate().form()}else{k=true;j=i(this[0].form).validate();this.each(function(){k=j.element(this)&&k})}return k},removeAttrs:function(l){var j={},k=this;i.each(l.split(/\s/),function(m,n){j[n]=k.attr(n);k.removeAttr(n)});return j},rules:function(m,j){var o=this[0],l,q,r,n,k,p;if(m){l=i.data(o.form,"validator").settings;q=l.rules;r=i.validator.staticRules(o);switch(m){case"add":i.extend(r,i.validator.normalizeRule(j));delete r.messages;q[o.name]=r;if(j.messages){l.messages[o.name]=i.extend(l.messages[o.name],j.messages)}break;case"remove":if(!j){delete q[o.name];return r}p={};i.each(j.split(/\s/),function(s,t){p[t]=r[t];delete r[t];if(t==="required"){i(o).removeAttr("aria-required")}});return p}}n=i.validator.normalizeRules(i.extend({},i.validator.classRules(o),i.validator.attributeRules(o),i.validator.dataRules(o),i.validator.staticRules(o)),o);if(n.required){k=n.required;delete n.required;n=i.extend({required:k},n);i(o).attr("aria-required","true")}if(n.remote){k=n.remote;delete n.remote;n=i.extend(n,{remote:k})}return n}});i.extend(i.expr[":"],{blank:function(j){return !i.trim(""+i(j).val())},filled:function(j){return !!i.trim(""+i(j).val())},unchecked:function(j){return !i(j).prop("checked")}});i.validator=function(j,k){this.settings=i.extend(true,{},i.validator.defaults,j);this.currentForm=k;this.init()};i.validator.format=function(j,k){if(arguments.length===1){return function(){var l=i.makeArray(arguments);l.unshift(j);return i.validator.format.apply(this,l)}}if(arguments.length>2&&k.constructor!==Array){k=i.makeArray(arguments).slice(1)}if(k.constructor!==Array){k=[k]}i.each(k,function(l,m){j=j.replace(new RegExp("\\{"+l+"\\}","g"),function(){return m})});return j};i.extend(i.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:false,focusInvalid:true,errorContainer:i([]),errorLabelContainer:i([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(j){this.lastActive=j;if(this.settings.focusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,j,this.settings.errorClass,this.settings.validClass)}this.hideThese(this.errorsFor(j))}},onfocusout:function(j){if(!this.checkable(j)&&(j.name in this.submitted||!this.optional(j))){this.element(j)}},onkeyup:function(j,k){if(k.which===9&&this.elementValue(j)===""){return}else{if(j.name in this.submitted||j===this.lastElement){this.element(j)}}},onclick:function(j){if(j.name in this.submitted){this.element(j)}else{if(j.parentNode.name in this.submitted){this.element(j.parentNode)}}},highlight:function(l,j,k){if(l.type==="radio"){this.findByName(l.name).addClass(j).removeClass(k)}else{i(l).addClass(j).removeClass(k)}},unhighlight:function(l,j,k){if(l.type==="radio"){this.findByName(l.name).removeClass(j).addClass(k)}else{i(l).removeClass(j).addClass(k)}}},setDefaults:function(j){i.extend(i.validator.defaults,j)},messages:{required:"必选字段",remote:"请修正该字段",email:"请输入正确格式的电子邮件",url:"请输入合法的网址",date:"请输入合法的日期",dateISO:"请输入合法的日期 (ISO).",number:"请输入合法的数字",digits:"只能输入整数",creditcard:"请输入合法的信用卡号",equalTo:"请再次输入相同的值",accept:"请输入拥有合法后缀名的字符串",maxlength:i.validator.format("请输入一个长度最多是 {0} 的字符串"),minlength:i.validator.format("请输入一个长度最少是 {0} 的字符串"),rangelength:i.validator.format("请输入一个长度介于 {0} 和 {1} 之间的字符串"),range:i.validator.format("请输入一个介于 {0} 和 {1} 之间的值"),max:i.validator.format("请输入一个最大为 {0} 的值"),min:i.validator.format("请输入一个最小为 {0} 的值")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=i(this.settings.errorLabelContainer);
this.errorContext=this.labelContainer.length&&this.labelContainer||i(this.currentForm);this.containers=i(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var j=(this.groups={}),l;i.each(this.settings.groups,function(m,n){if(typeof n==="string"){n=n.split(/\s/)}i.each(n,function(p,o){j[o]=m})});l=this.settings.rules;i.each(l,function(m,n){l[m]=i.validator.normalizeRule(n)});function k(p){var n=i.data(this[0].form,"validator"),m="on"+p.type.replace(/^validate/,""),o=n.settings;if(o[m]&&!this.is(o.ignore)){o[m].call(n,this[0],p)}}i(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, "+"[type='number'], [type='search'] ,[type='tel'], [type='url'], "+"[type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], "+"[type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",k).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",k);if(this.settings.invalidHandler){i(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}i(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){this.checkForm();i.extend(this.submitted,this.errorMap);this.invalid=i.extend({},this.errorMap);if(!this.valid()){i(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var j=0,k=(this.currentElements=this.elements());k[j];j++){this.check(k[j])}return this.valid()},element:function(l){var m=this.clean(l),k=this.validationTargetFor(m),j=true;this.lastElement=k;if(k===undefined){delete this.invalid[m.name]}else{this.prepareElement(k);this.currentElements=i(k);j=this.check(k)!==false;if(j){delete this.invalid[k.name]}else{this.invalid[k.name]=true}}i(l).attr("aria-invalid",!j);if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return j},showErrors:function(k){if(k){i.extend(this.errorMap,k);this.errorList=[];for(var j in k){this.errorList.push({message:k[j],element:this.findByName(j)[0]})}this.successList=i.grep(this.successList,function(l){return !(l.name in k)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if(i.fn.resetForm){i(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(l){var k=0,j;for(j in l){k++}return k},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(j){j.not(this.containers).text("");this.addWrapper(j).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{i(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(j){}}},findLastActive:function(){var j=this.lastActive;return j&&i.grep(this.errorList,function(k){return k.element.name===j.name}).length===1&&j},elements:function(){var k=this,j={};return i(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){if(!this.name&&k.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in j||!k.objectLength(i(this).rules())){return false}j[this.name]=true;return true})},clean:function(j){return i(j)[0]},errors:function(){var j=this.settings.errorClass.split(" ").join(".");return i(this.settings.errorElement+"."+j,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=i([]);this.toHide=i([]);this.currentElements=i([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(j){this.reset();this.toHide=this.errorsFor(j)},elementValue:function(k){var m,j=i(k),l=k.type;if(l==="radio"||l==="checkbox"){return i("input[name='"+k.name+"']:checked").val()}else{if(l==="number"&&typeof k.validity!=="undefined"){return k.validity.badInput?false:j.val()}}m=j.val();if(typeof m==="string"){return m.replace(/\r/g,"")}return m},check:function(l){l=this.validationTargetFor(this.clean(l));var p=i(l).rules(),n=i.map(p,function(t,s){return s}).length,q=false,k=this.elementValue(l),r,j,o;for(j in p){o={method:j,parameters:p[j]};try{r=i.validator.methods[j].call(this,k,l,o.parameters);if(r==="dependency-mismatch"&&n===1){q=true;continue}q=false;if(r==="pending"){this.toHide=this.toHide.not(this.errorsFor(l));return}if(!r){this.formatAndAdd(l,o);return false}}catch(m){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+l.id+", check the '"+o.method+"' method.",m)
}throw m}}if(q){return}if(this.objectLength(p)){this.successList.push(l)}return true},customDataMessage:function(j,k){return i(j).data("msg"+k.charAt(0).toUpperCase()+k.substring(1).toLowerCase())||i(j).data("msg")},customMessage:function(k,l){var j=this.settings.messages[k];return j&&(j.constructor===String?j:j[l])},findDefined:function(){for(var j=0;j<arguments.length;j++){if(arguments[j]!==undefined){return arguments[j]}}return undefined},defaultMessage:function(j,k){return this.findDefined(this.customMessage(j.name,k),this.customDataMessage(j,k),!this.settings.ignoreTitle&&j.title||undefined,i.validator.messages[k],"<strong>Warning: No message defined for "+j.name+"</strong>")},formatAndAdd:function(k,m){var l=this.defaultMessage(k,m.method),j=/\$?\{(\d+)\}/g;if(typeof l==="function"){l=l.call(this,m.parameters,k)}else{if(j.test(l)){l=i.validator.format(l.replace(j,"{$1}"),m.parameters)}}this.errorList.push({message:l,element:k,method:m.method});this.errorMap[k.name]=l;this.submitted[k.name]=l},addWrapper:function(j){if(this.settings.wrapper){j=j.add(j.parent(this.settings.wrapper))}return j},defaultShowErrors:function(){var k,l,j;for(k=0;this.errorList[k];k++){j=this.errorList[k];if(this.settings.highlight){this.settings.highlight.call(this,j.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(j.element,j.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(k=0;this.successList[k];k++){this.showLabel(this.successList[k])}}if(this.settings.unhighlight){for(k=0,l=this.validElements();l[k];k++){this.settings.unhighlight.call(this,l[k],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return i(this.errorList).map(function(){return this.element})},showLabel:function(n,o){var k,q,m,l=this.errorsFor(n),j=this.idOrName(n),p=i(n).attr("aria-describedby");if(l.length){l.removeClass(this.settings.validClass).addClass(this.settings.errorClass);l.html(o)}else{l=i("<"+this.settings.errorElement+">").attr("id",j+"-error").addClass(this.settings.errorClass).html(o||"");k=l;if(this.settings.wrapper){k=l.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(this.labelContainer.length){this.labelContainer.append(k)}else{if(this.settings.errorPlacement){this.settings.errorPlacement(k,i(n))}else{k.insertAfter(n)}}if(l.is("label")){l.attr("for",j)}else{if(l.parents("label[for='"+j+"']").length===0){m=l.attr("id").replace(/(:|\.|\[|\])/g,"\\$1");if(!p){p=m}else{if(!p.match(new RegExp("\\b"+m+"\\b"))){p+=" "+m}}i(n).attr("aria-describedby",p);q=this.groups[n.name];if(q){i.each(this.groups,function(s,r){if(r===q){i("[name='"+s+"']",this.currentForm).attr("aria-describedby",l.attr("id"))}})}}}}if(!o&&this.settings.success){l.text("");if(typeof this.settings.success==="string"){l.addClass(this.settings.success)}else{this.settings.success(l,n)}}this.toShow=this.toShow.add(l)},errorsFor:function(l){var k=this.idOrName(l),m=i(l).attr("aria-describedby"),j="label[for='"+k+"'], label[for='"+k+"'] *";if(m){j=j+", #"+m.replace(/\s+/g,", #")}return this.errors().filter(j)},idOrName:function(j){return this.groups[j.name]||(this.checkable(j)?j.name:j.id||j.name)},validationTargetFor:function(j){if(this.checkable(j)){j=this.findByName(j.name)}return i(j).not(this.settings.ignore)[0]},checkable:function(j){return(/radio|checkbox/i).test(j.type)},findByName:function(j){return i(this.currentForm).find("[name='"+j+"']")},getLength:function(k,j){switch(j.nodeName.toLowerCase()){case"select":return i("option:selected",j).length;case"input":if(this.checkable(j)){return this.findByName(j.name).filter(":checked").length}}return k.length},depend:function(k,j){return this.dependTypes[typeof k]?this.dependTypes[typeof k](k,j):true},dependTypes:{"boolean":function(j){return j},"string":function(k,j){return !!i(k,j.form).length},"function":function(k,j){return k(j)}},optional:function(j){var k=this.elementValue(j);return !i.validator.methods.required.call(this,k,j)&&"dependency-mismatch"},startRequest:function(j){if(!this.pending[j.name]){this.pendingRequest++;this.pending[j.name]=true}},stopRequest:function(j,k){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[j.name];if(k&&this.pendingRequest===0&&this.formSubmitted&&this.form()){i(this.currentForm).submit();this.formSubmitted=false}else{if(!k&&this.pendingRequest===0&&this.formSubmitted){i(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(j){return i.data(j,"previousValue")||i.data(j,"previousValue",{old:null,valid:true,message:this.defaultMessage(j,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(j,k){if(j.constructor===String){this.classRuleSettings[j]=k
}else{i.extend(this.classRuleSettings,j)}},classRules:function(k){var l={},j=i(k).attr("class");if(j){i.each(j.split(" "),function(){if(this in i.validator.classRuleSettings){i.extend(l,i.validator.classRuleSettings[this])}})}return l},attributeRules:function(k){var n={},j=i(k),l=k.getAttribute("type"),o,m;for(o in i.validator.methods){if(o==="required"){m=k.getAttribute(o);if(m===""){m=true}m=!!m}else{m=j.attr(o)}if(/min|max/.test(o)&&(l===null||/number|range|text/.test(l))){m=Number(m)}if(m||m===0){n[o]=m}else{if(l===o&&l!=="range"){n[o]=true}}}if(n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)){delete n.maxlength}return n},dataRules:function(k){var n,l,m={},j=i(k);for(n in i.validator.methods){l=j.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase());if(l!==undefined){m[n]=l}}return m},staticRules:function(k){var l={},j=i.data(k.form,"validator");if(j.settings.rules){l=i.validator.normalizeRule(j.settings.rules[k.name])||{}}return l},normalizeRules:function(k,j){i.each(k,function(n,m){if(m===false){delete k[n];return}if(m.param||m.depends){var l=true;switch(typeof m.depends){case"string":l=!!i(m.depends,j.form).length;break;case"function":l=m.depends.call(j,j);break}if(l){k[n]=m.param!==undefined?m.param:true}else{delete k[n]}}});i.each(k,function(l,m){k[l]=i.isFunction(m)?m(j):m});i.each(["minlength","maxlength"],function(){if(k[this]){k[this]=Number(k[this])}});i.each(["rangelength","range"],function(){var l;if(k[this]){if(i.isArray(k[this])){k[this]=[Number(k[this][0]),Number(k[this][1])]}else{if(typeof k[this]==="string"){l=k[this].replace(/[\[\]]/g,"").split(/[\s,]+/);k[this]=[Number(l[0]),Number(l[1])]}}}});if(i.validator.autoCreateRanges){if(k.min!=null&&k.max!=null){k.range=[k.min,k.max];delete k.min;delete k.max}if(k.minlength!=null&&k.maxlength!=null){k.rangelength=[k.minlength,k.maxlength];delete k.minlength;delete k.maxlength}}return k},normalizeRule:function(k){if(typeof k==="string"){var j={};i.each(k.split(/\s/),function(){j[this]=true});k=j}return k},addMethod:function(j,l,k){i.validator.methods[j]=l;i.validator.messages[j]=k!==undefined?k:i.validator.messages[j];if(l.length<3){i.validator.addClassRules(j,i.validator.normalizeRule(j))}},methods:{required:function(k,j,m){if(!this.depend(m,j)){return"dependency-mismatch"}if(j.nodeName.toLowerCase()==="select"){var l=i(j).val();return l&&l.length>0}if(this.checkable(j)){return this.getLength(k,j)>0}return i.trim(k).length>0},email:function(k,j){return this.optional(j)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(k)},url:function(k,j){return this.optional(j)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(k)},date:function(k,j){return this.optional(j)||!/Invalid|NaN/.test(new Date(k).toString())},dateISO:function(k,j){return this.optional(j)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(k)},number:function(k,j){return this.optional(j)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(k)},digits:function(k,j){return this.optional(j)||/^\d+$/.test(k)},creditcard:function(o,k){if(this.optional(k)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(o)){return false}var p=0,m=0,j=false,q,l;o=o.replace(/\D/g,"");if(o.length<13||o.length>19){return false}for(q=o.length-1;q>=0;q--){l=o.charAt(q);m=parseInt(l,10);if(j){if((m*=2)>9){m-=9}}p+=m;j=!j}return(p%10)===0},minlength:function(l,j,m){var k=i.isArray(l)?l.length:this.getLength(l,j);return this.optional(j)||k>=m},maxlength:function(l,j,m){var k=i.isArray(l)?l.length:this.getLength(l,j);return this.optional(j)||k<=m},rangelength:function(l,j,m){var k=i.isArray(l)?l.length:this.getLength(l,j);return this.optional(j)||(k>=m[0]&&k<=m[1])},min:function(k,j,l){return this.optional(j)||k>=l},max:function(k,j,l){return this.optional(j)||k<=l},range:function(k,j,l){return this.optional(j)||(k>=l[0]&&k<=l[1])
},equalTo:function(k,j,m){var l=i(m);if(this.settings.onfocusout){l.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){i(j).valid()})}return k===l.val()},remote:function(n,k,o){if(this.optional(k)){return"dependency-mismatch"}var l=this.previousValue(k),j,m;if(!this.settings.messages[k.name]){this.settings.messages[k.name]={}}l.originalMessage=this.settings.messages[k.name].remote;this.settings.messages[k.name].remote=l.message;o=typeof o==="string"&&{url:o}||o;if(l.old===n){return l.valid}l.old=n;j=this;this.startRequest(k);m={};m[k.name]=n;i.ajax(i.extend(true,{url:o,mode:"abort",port:"validate"+k.name,dataType:"json",data:m,context:j.currentForm,success:function(q){var s=q===true||q==="true",t,r,p;j.settings.messages[k.name].remote=l.originalMessage;if(s){p=j.formSubmitted;j.prepareElement(k);j.formSubmitted=p;j.successList.push(k);delete j.invalid[k.name];j.showErrors()}else{t={};r=q||j.defaultMessage(k,"remote");t[k.name]=l.message=i.isFunction(r)?r(n):r;j.invalid[k.name]=true;j.showErrors(t)}l.valid=s;j.stopRequest(k,s)}},o));return"pending"}}});i.format=function f(){throw"$.format has been deprecated. Please use $.validator.format instead."};var g={},h;if(i.ajaxPrefilter){i.ajaxPrefilter(function(l,k,m){var j=l.port;if(l.mode==="abort"){if(g[j]){g[j].abort()}g[j]=m}})}else{h=i.ajax;i.ajax=function(k){var l=("mode" in k?k:i.ajaxSettings).mode,j=("port" in k?k:i.ajaxSettings).port;if(l==="abort"){if(g[j]){g[j].abort()}g[j]=h.apply(this,arguments);return g[j]}return h.apply(this,arguments)}}i.extend(i.fn,{validateDelegate:function(l,k,j){return this.bind(k,function(m){var n=i(m.target);if(n.is(l)){return j.apply(n,arguments)}})}})}));function c(h){var f=h.length,i;if(f==15){i=new RegExp(/^(\d{6})()?(\d{2})(\d{2})(\d{2})(\d{2})(\w)$/)}else{if(f==18){i=new RegExp(/^(\d{6})()?(\d{4})(\d{2})(\d{2})(\d{3})(\w)$/)}else{return false}}var g=h.match(i);if(g!=null){if(f==15){var j=new Date("19"+g[3]+"/"+g[4]+"/"+g[5]);var k=j.getYear()==g[3]&&(j.getMonth()+1)==g[4]&&j.getDate()==g[5]}else{var j=new Date(g[3]+"/"+g[4]+"/"+g[5]);var k=j.getFullYear()==g[3]&&(j.getMonth()+1)==g[4]&&j.getDate()==g[5]}if(!k){return false}}if(!i.test(h)){return false}return true}jQuery.validator.addMethod("stringCheck",function(g,f){return this.optional(f)||(!/[$@#￥%^&*]/.test(g))},"不能使用特殊符号");jQuery.validator.addMethod("isMobile",function(h,f){var g=h.length;return this.optional(f)||(g==11&&/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(h))},"请正确填写您的手机号码。");jQuery.validator.addMethod("isIdCardNo",function(g,f){return this.optional(f)||c(g)},"请输入正确的身份证号码。")});